<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ Copyright (c) 2016 Oleg Filimonov
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<h:head>

</h:head>
<h:body>
    <h:form>
        <p:dataTable id="tbl" var="harddrive" value="#{dataView.harddrives}"
                     liveResize="true">

            <f:facet name="header">
                All availible harddrives
            </f:facet>

            <p:ajax event="sort" skipChildren="false" />

            <p:column headerText="country" sortBy="#{harddrive.country}">
                <h:inputText value="#{harddrive.country}"/>
            </p:column>

            <p:column headerText="manufacturer" sortBy="#{harddrive.manufacturer}">
                <h:inputText value="#{harddrive.manufacturer}"/>
            </p:column>

            <p:column headerText="name" sortBy="#{harddrive.name}">
                <h:inputText value="#{harddrive.name}"/>
            </p:column>

            <p:column headerText="size" sortBy="#{harddrive.size}">
                <h:inputText value="#{harddrive.size}"/>
            </p:column>

            <p:column headerText="interface" sortBy="#{harddrive.driveInterface}">
                <h:inputText value="#{harddrive.driveInterface}"/>
            </p:column>

            <p:column headerText="form factor" sortBy="#{harddrive.formFactor}">
                <h:inputText value="#{harddrive.formFactor}"/>
            </p:column>

            <p:column headerText="rotation speed" sortBy="#{harddrive.rotationSpeed}">
                <h:inputText value="#{harddrive.rotationSpeed}"/>
            </p:column>

            <p:column headerText="quantity" sortBy="#{harddrive.quantity}">
                <h:inputText value="#{harddrive.quantity}"/>
            </p:column>

            <p:column headerText="price" sortBy="#{harddrive.retailPrice}">
                <h:inputText value="#{harddrive.retailPrice}"/>
            </p:column>

        </p:dataTable>

        <p:commandButton value="Get all hard drive data" action="#{dataView.downloadHarddrives}" update="tbl" id="getAll"/>

        <p:commandButton value="Commit changes" action="#{dataView.downloadHarddrives}" update="tbl" id="commit"/>

    </h:form>
</h:body>

</html>
